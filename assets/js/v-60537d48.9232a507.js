(self.webpackChunkvue_request_doc=self.webpackChunkvue_request_doc||[]).push([[514],{8610:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});const t=(0,a(8133).uE)('<h1 id="默认请求"><a class="header-anchor" href="#默认请求">#</a> 默认请求</h1><p>我们内置了 Fetch 来处理你的请求，你可以借助第一个参数传入一个 <a href="#%E4%BC%A0%E5%85%A5%E5%AD%97%E7%AC%A6%E4%B8%B2">字符串</a>、一个<a href="#%E4%BC%A0%E5%85%A5%E5%AF%B9%E8%B1%A1">对象</a>或者传入一个<a href="#%E4%BC%A0%E5%85%A5%E8%AF%B7%E6%B1%82%E5%87%BD%E6%95%B0">请求函数</a></p><h2 id="传入字符串"><a class="header-anchor" href="#传入字符串">#</a> 传入字符串</h2><p>你可以通过传入一个接口的链接</p><div class="language-tsx ext-tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span><span class="token string">&#39;api/user?name=John&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="传入请求函数【推荐】"><a class="header-anchor" href="#传入请求函数【推荐】">#</a> 传入请求函数【推荐】</h2><p>可以通过传入一个返回值为 <code>Promise</code> 类型的函数。</p><p>换句话说，你可以使用 <strong>第三方的请求库（如 <code>axios</code> ）</strong> 来获取数据，然后将该请求传给 VueRequest 来进行管理。具体可参考以下例子</p><div class="language-tsx ext-tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">getUser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">&#39;api/user&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>getUser<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="传入对象"><a class="header-anchor" href="#传入对象">#</a> 传入对象</h2><p>你可以通过传入一个包含 <code>url</code> 属性的对象</p><div class="language-tsx ext-tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> objectService <span class="token operator">=</span> <span class="token punctuation">{</span>\n  url<span class="token operator">:</span> <span class="token string">&#39;api/user&#39;</span><span class="token punctuation">,</span>\n  method<span class="token operator">:</span> <span class="token string">&#39;POST&#39;</span><span class="token punctuation">,</span>\n  body<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token string">&#39;Benny&#39;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  headers<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Headers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    <span class="token string">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span>objectService<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre></div><hr><p>现在，你应该已经拥有了一个 VueRequest 的最小示例了。接下来，我们来了解一下其他的一些配置。</p>',14),p={render:function(n,s){return t}}},4711:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>t});const t={key:"v-60537d48",path:"/zh/guide/documents/default-request.html",title:"默认请求",frontmatter:{},excerpt:"",headers:[{level:2,title:"传入字符串",slug:"传入字符串",children:[]},{level:2,title:"传入请求函数【推荐】",slug:"传入请求函数【推荐】",children:[]},{level:2,title:"传入对象",slug:"传入对象",children:[]}],filePathRelative:"zh/guide/documents/default-request.md",git:{updatedTime:1613724187e3,contributors:[]}}}}]);