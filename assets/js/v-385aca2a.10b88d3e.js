(self.webpackChunkvue_request_doc=self.webpackChunkvue_request_doc||[]).push([[365],{1454:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>q});var n=s(8133);const o=(0,n.Wm)("h1",{id:"\u7F13\u5B58"},[(0,n.Wm)("a",{class:"header-anchor",href:"#\u7F13\u5B58"},"#"),(0,n.Uk)(" \u7F13\u5B58")],-1),c=(0,n.Uk)("\u4F60\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E "),u=(0,n.Wm)("code",null,"cacheKey",-1),l=(0,n.Uk)(" \u6765\u542F\u7528\u7F13\u5B58\u529F\u80FD\u3002\u5F53\u7F13\u5B58\u542F\u7528\u540E VueRequest \u4F1A\u628A\u5F53\u524D\u8BF7\u6C42\u7684\u7ED3\u679C\u7F13\u5B58\u4E0B\u6765\uFF0C\u7B49\u5230\u4E0B\u6B21\u8BE5\u7EC4\u4EF6\u521D\u59CB\u5316\u65F6\uFF0C\u4EA6\u6216\u8005\u53E6\u5916\u4E00\u4E2A\u8BBE\u7F6E\u4E86\u540C\u6837 "),k=(0,n.Wm)("code",null,"cacheKey",-1),i=(0,n.Uk)(" \u7684\u8BF7\u6C42\u521D\u59CB\u5316\u65F6\uFF0C\u5982\u679C\u6709\u7F13\u5B58\uFF0C\u5219\u4F1A\u4F18\u5148\u8FD4\u56DE\u7F13\u5B58\u7684\u6570\u636E\uFF0C\u7136\u540E\u518D\u5728\u80CC\u540E\u53D1\u8D77\u65B0\u7684\u8BF7\u6C42\u3002\u8FD9\u6837\u5C31\u786E\u4FDD\u6570\u636E\u4EE5\u6700\u5FEB\u7684\u6570\u636E\u5C55\u73B0\u5728\u7528\u6237\u9762\u524D\u3002"),r=(0,n.uE)(`<div class="language-tsx ext-tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span><span class="token string">&#39;api/users&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      cacheKey<span class="token operator">:</span> <span class="token string">&#39;users&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="cachetime"><a class="header-anchor" href="#cachetime">#</a> cacheTime</h2>`,2),d=(0,n.Uk)("\u4F60\u8FD8\u53EF\u4EE5\u8BBE\u7F6E\u7F13\u5B58\u7684\u56DE\u6536\u65F6\u95F4\u3002\u5F53\u7F13\u5B58\u6570\u636E\u7684\u65F6\u95F4\u8D85\u8FC7\u4E86\u8BBE\u5B9A\u7684 "),m=(0,n.Wm)("code",null,"cacheTime",-1),h=(0,n.Uk)(" \uFF08\u9ED8\u8BA4\u4E3A 600000 \u6BEB\u79D2\uFF0C\u5373 10 \u5206\u949F\uFF09\uFF0CVueRequest \u4F1A\u81EA\u52A8\u4E22\u5F03\u8BE5\u7F13\u5B58\u7684\u6570\u636E\uFF0C\u7B49\u5230\u4E0B\u6B21\u53D1\u8D77\u8BF7\u6C42\u540E\uFF0C\u91CD\u65B0\u7F13\u5B58\u65B0\u7684\u6570\u636E\u3002"),g=(0,n.uE)(`<div class="language-tsx ext-tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span><span class="token string">&#39;api/users&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      cacheKey<span class="token operator">:</span> <span class="token string">&#39;users&#39;</span><span class="token punctuation">,</span>
      cacheTime<span class="token operator">:</span> <span class="token number">300000</span><span class="token punctuation">,</span> <span class="token comment">// 10 minutes</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="staletime"><a class="header-anchor" href="#staletime">#</a> staleTime</h2>`,2),f=(0,n.Uk)("\u5982\u679C\u4F60\u80FD\u786E\u4FDD\u7F13\u5B58\u4E0B\u6765\u7684\u6570\u636E\uFF0C\u5728\u4E00\u5B9A\u65F6\u95F4\u5185\u4E0D\u4F1A\u6709\u4EFB\u4F55\u66F4\u65B0\u7684\uFF0C\u4F60\u53EF\u4EE5\u8BBE\u7F6E\u4E00\u4E2A\u4FDD\u9C9C\u65F6\u95F4 "),y=(0,n.Wm)("code",null,"staleTime",-1),v=(0,n.Uk)(" \uFF08\u9ED8\u8BA4\u4E3A 0\uFF0C\u5373\u4E0D\u4FDD\u9C9C\uFF09, \u5F53\u8BBE\u7F6E\u4FDD\u9C9C\u65F6\u95F4\u540E\uFF0CVueRequest \u5728\u8BE5\u65F6\u95F4\u5185\u4F1A\u8BA4\u4E3A\u7F13\u5B58\u7684\u6570\u636E\u662F\u65B0\u9C9C\u7684\uFF0C\u4ECE\u800C\u4E0D\u4F1A\u53D1\u8D77\u65B0\u7684\u8BF7\u6C42\uFF0C\u8FD9\u80FD\u4E3A\u4E00\u4E9B\u5B9A\u65F6\u66F4\u65B0\u7684\u63A5\u53E3\u51CF\u8F7B\u8BF7\u6C42\u7684\u538B\u529B\u3002"),w=(0,n.uE)(`<div class="language-tsx ext-tsx"><pre class="language-tsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-request&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&#39;App&#39;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span><span class="token string">&#39;api/users&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      cacheKey<span class="token operator">:</span> <span class="token string">&#39;users&#39;</span><span class="token punctuation">,</span>
      staleTime<span class="token operator">:</span> <span class="token number">3600000</span><span class="token punctuation">,</span> <span class="token comment">// 60 minutes</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span>value<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>`,1);function _(x,W){const t=(0,n.up)("RouterLink");return(0,n.wg)(),(0,n.j4)(n.HY,null,[o,(0,n.Wm)("p",null,[c,(0,n.Wm)(t,{to:"/vue-request-docs/zh/api/options.html#cachekey"},{default:(0,n.w5)(()=>[u]),_:1}),l,(0,n.Wm)(t,{to:"/vue-request-docs/zh/api/options.html#cachekey"},{default:(0,n.w5)(()=>[k]),_:1}),i]),r,(0,n.Wm)("p",null,[d,(0,n.Wm)(t,{to:"/vue-request-docs/zh/api/options.html#cachetime"},{default:(0,n.w5)(()=>[m]),_:1}),h]),g,(0,n.Wm)("p",null,[f,(0,n.Wm)(t,{to:"/vue-request-docs/zh/api/options.html#staletime"},{default:(0,n.w5)(()=>[y]),_:1}),v]),w],64)}const p={};p.render=_;const q=p},1548:(e,a,s)=>{"use strict";s.r(a),s.d(a,{data:()=>n});const n={key:"v-385aca2a",path:"/zh/guide/documents/cacheKey.html",title:"\u7F13\u5B58",frontmatter:{},excerpt:"",headers:[{level:2,title:"cacheTime",slug:"cachetime",children:[]},{level:2,title:"staleTime",slug:"staletime",children:[]}],filePathRelative:"zh/guide/documents/cacheKey.md",git:{updatedTime:1609810932e3,contributors:[]}}}}]);
